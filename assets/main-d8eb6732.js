(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();function p(){var o=new Date,e=o.getHours(),r=o.getMinutes(),a="AM";e==0&&(e=12),e>12&&(e=e-12,a="PM"),e=e<10?"0"+e:e,r=r<10?"0"+r:r;var t=e+":"+r+" "+a;document.getElementById("MyClockDisplay").innerText=t,document.getElementById("MyClockDisplay").textContent=t,setTimeout(p,1e3)}p();let l={apiKey:"b55fd78edf1679ca3a728c024f2b8e35",fetchWeather:function(o){fetch("https://api.openweathermap.org/data/2.5/weather?q="+o+"&units=metric&appid="+this.apiKey).then(e=>{if(!e.ok)throw alert("No weather found."),new Error("No weather found.");return e.json()}).then(e=>this.displayWeather(e))},displayWeather:function(o){const{name:e}=o,{icon:r,description:a}=o.weather[0],{temp:t,humidity:n}=o.main;o.wind,document.querySelector(".city").innerText=e,document.querySelector(".icon").src="https://openweathermap.org/img/wn/"+r+".png",document.querySelector(".description").innerText=a,document.querySelector(".temp").innerText=t,document.querySelector(".weather").classList.remove("loading")},search:function(){this.fetchWeather(document.querySelector(".search-bar").value)}};document.querySelector(".search button").addEventListener("click",function(){l.search()});document.querySelector(".search-bar").addEventListener("keyup",function(o){o.key=="Enter"&&l.search()});let v={reverseGeocode:function(o,e){var r="7390c6d32c044d6ea0ab2243be1b174e",a=o+","+e,t="https://api.opencagedata.com/geocode/v1/json",n=t+"?key="+r+"&q="+encodeURIComponent(a)+"&pretty=1&no_annotations=1",s=new XMLHttpRequest;s.open("GET",n,!0),s.onload=function(){if(s.status===200){var u=JSON.parse(s.responseText);l.fetchWeather(u.results[0].components.city)}else if(s.status<=500){console.log("unable to geocode! Response code: "+s.status);var u=JSON.parse(s.responseText);console.log("error msg: "+u.status.message)}else console.log("server error")},s.onerror=function(){console.log("unable to connect to server")},s.send()},getLocation:function(){function o(e){v.reverseGeocode(e.coords.latitude,e.coords.longitude)}navigator.geolocation?navigator.geolocation.getCurrentPosition(o,console.error):l.fetchWeather("New York")}};v.getLocation();const d=document.getElementById("bg-theme-input");localStorage.getItem("background")||localStorage.setItem("background","nordic");function w(o){const e=window.screen.height,r=window.screen.width;document.body.style.backgroundImage="url(https://source.unsplash.com/"+r+"x"+e+"/?"+o}w(localStorage.getItem("background"));d.addEventListener("change",()=>{localStorage.setItem("background",d.value),w(d.value)});const y=document.getElementById("settings-button"),L=document.querySelector(".settings-tray-section");y.addEventListener("click",()=>{y.classList.toggle("active"),L.classList.toggle("active")});const m=document.getElementById("global-theme"),g=document.getElementById("global-layout"),c=document.getElementById("widget-body"),h=document.querySelectorAll(".widget"),f=document.querySelector(".weather-app");document.getElementById("main-section");localStorage.getItem("theme")||(localStorage.setItem("theme","dark"),localStorage.setItem("layout","center"));if(localStorage.getItem("theme")=="light"){for(i=0;i<5;i++)h[i].classList.add("widget-light");m.value="light"}localStorage.getItem("layout")=="left"&&(c.classList.remove("even-columns"),c.classList.add("main-section-left-layout"),f.classList.add("weather-app-left-layout"),g.value="left");m.addEventListener("change",()=>{if(m.value=="dark"){for(i=0;i<5;i++)h[i].classList.remove("widget-light");localStorage.setItem("theme","dark")}else{for(i=0;i<5;i++)h[i].classList.add("widget-light");localStorage.setItem("theme","light")}});g.addEventListener("change",()=>{g.value=="center"?(c.classList.add("even-columns"),c.classList.remove("main-section-left-layout"),f.classList.remove("weather-app-left-layout"),localStorage.setItem("layout","center")):(c.classList.remove("even-columns"),c.classList.add("main-section-left-layout"),f.classList.add("weather-app-left-layout"),localStorage.setItem("layout","left"))});
